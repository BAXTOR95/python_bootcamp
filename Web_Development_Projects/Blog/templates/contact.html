{% extends "layout.html" %}
<!-- Contact Form -->
{% block title %}Contact{% endblock %}
<!-- Contact Header -->
{% block header %}
<div class="page-heading">
	<h1>Contact Me</h1>
	<span class="subheading">Have questions? I have answers.</span>
</div>
{% endblock %}

<main class="mb-4">
	{% block content %}
	<p>
		Want to get in touch? Fill out the form below to send me a message and I
		will get back to you as soon as possible!
	</p>
	<div class="my-5">
		<form id="contactForm" method="post" action="{{ url_for('contact') }}">
			{{ form.hidden_tag() }}
			<div class="form-floating">
				{{ form.name(class="form-control" + (" is-invalid" if form.name.errors else ""), placeholder="Enter your name...") }}
				<label for="name">Name</label>
				{% if form.name.errors %}
				<div class="invalid-feedback" style="display: block">
					{{ form.name.errors[0] }}
				</div>
				{% endif %}
			</div>
			<div class="form-floating">
				{{ form.email(class="form-control" + (" is-invalid" if form.name.errors else ""), placeholder="Enter your email...") }}
				<label for="email">Email</label>
				{% if form.email.errors %}
				<div class="invalid-feedback" style="display: block">
					{{ form.email.errors[0] }}
				</div>
				{% endif %}
			</div>
			<div class="form-floating">
				{{ form.phone(class="form-control" + (" is-invalid" if form.name.errors else ""), placeholder="Enter your phone...") }}
				<label for="phone">Phone</label>
				{% if form.phone.errors %}
				<div class="invalid-feedback" style="display: block">
					{{ form.phone.errors[0] }}
				</div>
				{% endif %}
			</div>
			<div class="form-floating">
				{{ form.message(class="form-control", placeholder="Enter your message
				here...", style="height: 12rem") }}
				<label for="message">Message</label>
				{% if form.message.errors %}
				<div class="invalid-feedback" style="display: block">
					{{ form.message.errors[0] }}
				</div>
				{% endif %}
			</div>
			<br>
			{% with messages = get_flashed_messages(with_categories=true) %}
				{% if messages %}
					{% for category, message in messages %}
						<div class="alert {{ 'alert-success' if category == 'success' else 'alert-danger' }} alert-dismissible fade show text-center mb-3" role="alert">
							{{ message }}
							<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
						</div>
					{% endfor %}
				{% endif %}
			{% endwith %}
			<!-- Submit Button -->
			{{ form.submit(class="btn btn-primary text-uppercase") }}
		</form>
	</div>
	{% endblock %}
</main>
